## Task 1: Operating System Analysis

### 1.1: Boot Performance

**Команды:**
- `systemd-analyze` - показывает общее время загрузки системы и время на каждом этапе:
  - Общее время загрузки: 2 минуты 39.691 секунд
  - Больше всего времени занял этап userspace (2 минуты 16.259 секунд)

- `systemd-analyze blame` - показывает какие службы дольше всего загружались:
  - Самые долгие: plymouth-quit-wait.service (1 мин 26 сек), snapd.seeded.service (49 сек), snapd.service (44 сек)

- `uptime` - показывает время работы системы и нагрузку:
  - Система работает 16 минут
  - Нагрузка: 1.26, 3.61, 3.30 (за 1, 5 и 15 минут)

- `w` - показывает кто в системе и нагрузку:
  - Только пользователь george, запущен графический интерфейс

### 1.2: Process Forensics

**Команды:**
- `ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%mem | head -n 6` - топ процессов по памяти:
  - gnome-shell (1.2% памяти), snap-store (0.9%), браузер Yandex (0.7%)

- `ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%cpu | head -n 6` - топ процессов по CPU:
  - gnome-shell (3.8% CPU), браузер Yandex (2.3%), Xorg (2.2%)

### 1.3: Service Dependencies

**Команды:**
- `systemctl list-dependencies` - показывает зависимости всех сервисов
- `systemctl list-dependencies multi-user.target` - зависимости для multi-user режима
  - Вывод очень большой, показывает иерархию сервисов и их зависимостей

### 1.4: User Sessions

**Команды:**
- `who -a` - показывает кто в системе:
  - Только пользователь george, вошел в 13:40

- `last -n 5` - последние 5 входов:
  - Текущая сессия с 13:40, предыдущие перезагрузки системы

### 1.5: Memory Analysis

**Команды:**
- `free -h` - показывает использование памяти:
  - Всего 31GiB, использовано 2.3GiB, свободно 1.4GiB
  - Swap: 2GiB, использовано 1MiB

- `cat /proc/meminfo | grep -e MemTotal -e SwapTotal -e MemAvailable`:
  - MemTotal: 32726716 kB (~32GB)
  - SwapTotal: 2097148 kB (~2GB)

### 2.1: Network Path Tracing

#### 1. `traceroute github.com`
**Что делает:**
- Определяет маршрут пакетов от вашего компьютера до сервера GitHub
- Посылает серию пакетов с увеличивающимся TTL (Time To Live)
- Каждый промежуточный маршрутизатор уменьшает TTL на 1 и при TTL=0 возвращает сообщение

**Результаты:**
1. Первый хоп - мой роутер (`192.168.31.1` Xiaomi)
2. Далее пакеты идут через несколько внутренних узлов провайдера (`10.x.x.x` адреса)
3. Выход в интернет через `188.170.164.34`
4. Много звездочек (`* * *`) означают, что промежуточные маршрутизаторы не отвечают на запросы
5. Конечный пункт - GitHub (`140.82.121.4`)

**Анализ:**
- Задержки в пределах нормы (1-60 мс)
- Некоторые узлы не отвечают - обычная практика для защиты от сканирования
- Маршрут проходит через Швецию (netnod-ix) и Германию (fra3-de)

#### 2. `traceroute innopolis.university`
**Отличия от предыдущего:**
- 14 хопов
- Конечный IP: `213.159.212.4`
- Последние ответы с `!X` - означает, что пакет был отфильтрован (возможно firewall)
- Проходит через российские узлы (`178.178.110.203`, `92.63.110.1`)

#### 3. `dig github.com`
**Что делает:**
- Выполняет DNS-запрос для получения IP-адреса github.com
- Использует локальный DNS-резолвер (`127.0.0.53`)

**Разбор вывода:**
- `ANSWER SECTION`: github.com → `140.82.121.4`
- `Query time: 0 msec` - ответ получен мгновенно (вероятно из кеша)
- `SERVER: 127.0.0.53#53` - используется systemd-resolved
- `flags: qr rd ra`:
  - qr = это ответ (query response)
  - rd = recursion desired
  - ra = recursion available

### 2.2: Packet Capture (`tcpdump`)

**Команда:**
```sh
sudo timeout 10 tcpdump -c 5 -i any 'port 53' -nn
```
**Параметры:**
- `timeout 10` - выполнять 10 секунд
- `-c 5` - захватить 5 пакетов
- `-i any` - слушать все интерфейсы
- `port 53` - только DNS трафик
- `-nn` - не преобразовывать адреса и порты в имена

**Захваченные пакеты:**
1. **Запрос AAAA** (IPv6) для `connectivity-check.ubuntu.com`:
   - От: `192.168.31.189.45655`
   - К: `192.168.31.1.53` (локальный DNS)
   - Флаг `[1au]` - содержит 1 дополнительную запись (EDNS)

2. **Ответ** с 12 IPv6-адресами:
   - Включает адреса Canonical (`2620:2d:4000::/48`)
   - Размер ответа 394 байта

**Анализ:**
- Это стандартная проверка подключения Ubuntu
- Показывает, что система периодически проверяет интернет-соединение
- DNS-сервер роутера (`192.168.31.1`) корректно отвечает

### 2.3: Reverse DNS

#### 1. `dig -x 8.8.4.4`
**Что делает:**
- Обратный DNS-запрос (IP → имя)
- Преобразует `4.4.8.8.in-addr.arpa` в имя

**Результат:**
- Успешный ответ: `dns.google.`
- Это резервный DNS сервер Google

#### 2. `dig -x 1.1.2.2`
**Результат:**
- `NXDOMAIN` - доменное имя не существует
- Это IP из пуска APNIC (Asia-Pacific Network Information Centre)
- Обычно используется для тестирования, не имеет PTR-записи

